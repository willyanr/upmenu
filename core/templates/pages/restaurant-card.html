{% load static %}
<!DOCTYPE html>
<html lang="pt-br" class="dark">
   <head>
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <title>{{restaurant.name}}</title>
      <link rel="icon" href="assets/img/fav-icon.png">

      <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-0evHe/X+R7YkIZDRvuzKMRqM+OrBnVFBL6DOitfPri4tjfHxaWutUpFmBp4vmVor" crossorigin="anonymous">

      <link rel="stylesheet" href="{% static '/css/aos.css' %}">

      <link rel="stylesheet" href="{% static 'css/style.css' %}">
      <!-- Responsive -->
      <link rel="stylesheet" href="{% static 'css/responsive.css' %}">
      <!-- Color -->
      <link rel="stylesheet" href="{% static 'css/color.css' %}">

      <script src="https://kit.fontawesome.com/6fa399b61e.js" crossorigin="anonymous"></script>
	  <script src="https://cdn.tailwindcss.com"></script>
     
   </head>
   <body class="bg-gray-900">
      <!-- loader start-->
      <div class="page-loader">
         <div class="wrapper">
            <div class="circle"></div>
            <div class="circle"></div>
            <div class="circle"></div>
            <div class="shadow"></div>
            <div class="shadow"></div>
            <div class="shadow"></div>
     
         </div>
      </div>
      <!-- loader end-->
      <!-- header -->
      <div class="bg-orange-600 w-full h-8 fixed top-0 left-0 z-40">
         <p class="text-xs text-white text-center py-1">Desconto de 10% para o Primeiro Pedido. üî•</p>
     </div>
     
     <!-- Cabe√ßalho -->
<!-- Header -->
    <header class="p-2 bg-gray-800 fixed w-full z-50 top-0 left-0">
        <div class="container mx-auto flex justify-between items-center p-2 bg-gray-800">
            <!-- Logo -->
            <div class="flex items-center space-x-6">
                <img alt="logo" class="w-auto h-12" src="{% static 'images/logo/logo.png' %}">
            </div>
        
            <!-- Menu and Shopping Bag -->
            <div class="flex items-center space-x-6">
                <a href="javascript:void(0)" class="menu-btn text-white hover:text-green-400 transition duration-200 p-2 rounded-md flex items-center" aria-label="Shopping Bag">
                    <i class="fa-solid fa-bag-shopping fa-lg"></i>
                    
                </a>
                <button class="bar-menu text-white hover:text-green-400 focus:outline-none transition duration-200 p-2 rounded-md flex items-center" id="open-menu">
                    <i class="fa-solid fa-bars fa-lg text-white font-bold"></i>
                    
                </button>
            </div>
        </div>
        
        
        <!-- Cart Dropdown (hidden by default) -->
        <div class="menu-wrap bg-gray-800 mt-10 p-6 fixed top-5 right-0 w-full h-full overflow-auto hidden" id="cart-id">
           
            
            <div class="checkout-order flex flex-col h-full pb-4"> <!-- Adicione padding-bottom -->
                <div class="title-checkout">
                    <h2 class="mt-2 text-white sm:text-xl font-bold">Meu pedido:</h2> <!-- Ajuste da margem superior -->
                </div>
        
                <!-- Order list -->
                <ul class="mt-3 flex-grow overflow-y-auto">
                    <!-- Lista de pedidos vazia inicialmente -->
                </ul>
        
                <!-- Total Price -->
                <div class="mt-4 mb-4"> <!-- Margem superior para o total -->
                    <div class="total-price flex justify-between items-center">
                        <span class="text-white font-bold">Total Pedido:</span>
                        <h5 class="text-green-500 text-lg font-bold" id="total-order">R$0.00</h5>
                    </div>
        
                    <!-- Checkout Button -->
                    <button class="mt-4 w-full py-2 bg-green-500 hover:bg-green-600 text-white font-semibold rounded transition duration-200" id="checkout-button">Finalizar Pedido</button>
                    <button id="close-cart" class="mt-2 w-full py-2 bg-red-600 hover:bg-green-600 text-white font-semibold rounded transition duration-200" id="checkout-button">Voltar</button>

              
                </div>
            </div>
        </div>
        
        
        </div>
    </header>
  
  <!-- Mobile Navigation Menu -->
  <div class="bg-red-600 text-white fixed top-0 left-0 w-full h-full z-50 transform translate-x-full transition-transform duration-300" id="mobile-nav">
    <div class="flex items-center justify-between p-4 border-b border-red-600">
      <!-- Logo -->
      
      <!-- Close Button -->
      <button class="text-white focus:outline-none" id="close-menu">
        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
        </svg>
      </button>
    </div>
  
    <!-- Menu Items -->
    <ul class="flex flex-col p-4 space-y-4">
      <li><a href="#" class="text-lg hover:text-gray-300">In√≠cio</a></li>
      <li><a href="#v-pills-home" class="text-lg hover:text-gray-300">Ver Menu</a></li>
      <li class="relative group">
        <a href="#" class="text-lg hover:text-gray-300 flex justify-between items-center">
          Restaurants
          <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
          </svg>
        </a>
          <li><a href="" class="block px-4 py-2 hover:bg-red-500 rounded">Quem somos</a></li>
          <li><a href="" class="block px-4 py-2 hover:bg-red-500 rounded">Suporte</a></li>
        </ul>
      </li>
    </ul>
  </div>
  
  <!-- JavaScript to toggle mobile menu -->
  <script>
    document.getElementById('open-menu').addEventListener('click', function() {
      document.getElementById('mobile-nav').classList.remove('translate-x-full');
    });
  
    document.getElementById('close-menu').addEventListener('click', function() {
      document.getElementById('mobile-nav').classList.add('translate-x-full');
    });
  
    document.getElementById('close-cart').addEventListener('click', function() {
      document.getElementById('cart-id').classList.add('hidden');
    });
  
    document.getElementById('checkout-button').addEventListener('click', function() {
     
    });
  </script>
  
     
      <!-- hero-section -->
      <section class="mt-16">
         <div class="container mx-auto p-4">
             <div class="flex flex-col lg:flex-row items-center lg:gap-8">
                 <!-- Text Section -->
                 <div class="w-full lg:w-1/2" data-aos="fade-up" data-aos-delay="300" data-aos-duration="400">
                     <div class="p-4 mt-3">
                         <div class="mb-4 text-center lg:text-left">
                             <img class="w-auto h-24 mx-auto lg:mx-0 rounded-lg" alt="Logo do Restaurante" src="{{restaurant.img.url}}">
                             <h2 class="text-white text-3xl mt-4 font-bold">{{restaurant.name}}</h2>
                             <p class="text-white mt-2">{{restaurant.description}}</p>
                         </div>
                         <div class="text-center lg:text-left mt-4">
                             <span class="text-white">Avalia√ß√£o:</span>
                             <div class="text-yellow-400 mb-4">
                                 <i class="fa-solid fa-star"></i>
                                 <i class="fa-solid fa-star"></i>
                                 <i class="fa-solid fa-star"></i>
                                 <i class="fa-solid fa-star"></i>
                                 <i class="fa-solid fa-star"></i>
                             </div>
                           
                         </div>
                     </div>
                 </div>
                                <!-- Image Section -->
                <div class="w-full lg:w-1/2 mt-8 lg:mt-0 mb-10" data-aos="fade-up" data-aos-delay="400" data-aos-duration="500">
                    <div class="p-4 relative">

                        <!-- Time Badge -->
                        <div class="absolute top-4 left-4 bg-red-600 p-2 rounded shadow-lg flex items-center space-x-2">
                            <i class="fa-regular fa-clock text-lg text-white"></i>
                            <div>
                                <h4 class="text-white font-bold text-sm sm:text-base">19:00 ‚Äì 00:00</h4>
                                <span class="text-xs sm:text-sm text-white">Horas</span>
                            </div>
                        </div>
                        
                       <!-- Address Badge -->
                        <div class="mt-4 bg-gray-800 p-4 rounded-lg shadow-lg flex items-start space-x-3">
                            <i class="pt-3 fa-solid fa-utensils text-xl text-white"></i>
                            <div class="">
                                <h4 class="pt-3 text-gray-300 font-bold text-sm sm:text-base">{{restaurant.address}} <br>{{restaurant.city}}</h4>
                                <p class="text-xs text-gray-200 font-medium mt-1">
                                    {{restaurant.cep}} <br>{{restaurant.cnpj}}
                                </p>
                            </div>
                        </div>

                        
                    </div>
                </div>

                                

             </div>
         </div>
     </section>
       <!-- Se√ß√£o de Bot√µes de Categoria -->
       <section class="category-buttons py-4">
        <div class="container">
            <div class="row">
                <div class="d-flex flex-wrap justify-content-center gap-3"> <!-- flex-wrap para que os bot√µes quebrem linha em telas menores -->
                    <!-- Bot√µes de categoria -->
                    {% for category in categories %}
                        <button class="category-btn me-2 px-4 py-2 bg-red-600 hover:bg-red-700 text-white text-sm md:text-base rounded-lg transition-colors ease-in-out duration-200" data-category="{{ category.id }}">
                            {{ category.name }}
                        </button>
                    {% endfor %}
                    <!-- Bot√£o para mostrar todos -->
                    <button class="category-btn me-2 px-4 py-2 bg-red-600 hover:bg-red-700 text-white text-sm md:text-base rounded-lg transition-colors ease-in-out duration-200" data-category="all">
                        Todos
                    </button>
                </div>
            </div>
        </div>
    </section>
    
    
     {% if restaurant.delivery_is_active %}



<!-- tabs -->
<section class="tabs">
    <div class="container">
        <div class="tabs-img-back">
            <div class="row">
                <div class="col-lg-12">
                    <div class="tab-pane fade show active" id="v-pills-home" role="tabpanel" aria-labelledby="v-pills-home-tab">
                        <div class="row" id="menu-items-container">
                            {% for item in menu %}
                            <div class="menu-item col-xl-4 col-lg-6" data-category="{{ item.category.id }}">
                                <div class="dish bg-red-600">
                                    <!-- Render item image -->
                                    <img alt="{{ item.name }}" src="{{ item.img.url }}" width="200px" height="200px">
                                    <div class="dish-foods">
                                        <!-- Render item name -->
                                        <h3 class="text-white">{{ item.name }}</h3>
                                        <div class="dish-icon">
                                            <div class="cafa-button">
                                                {% if item.category %}
                                                    <a href="#">{{ item.category.name }}</a>
                                                {% endif %}
                                            </div>
                                            <div class="dish-icon end">
                                                <i class="info fa-solid fa-circle-info text-white"></i>
                                                <div class="star">
                                                    <a href="#"><i class="fa-solid fa-heart"></i></a>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="price">
                                            <!-- Render item price -->
                                            <h2 class="text-white text-lg">R${{ item.value }}</h2>
                                        </div>
                                        <div class="text-start mb-3">
                                            <p class="text-gray-200 break-words">{{ item.get_description }}.</p>
                                        </div>
                                        <button class="button-price">Adicionar a sacola<i class="fa-solid fa-bag-shopping"></i></button>
                                    </div>
                                    <div class="dish-info text-center" style="display: none;">
                                        <i class="ms-4 info2 fa-solid fa-xmark"></i>
                                        <h5 class="text-center text-white">{{ item.name }}</h5>
                                        <div class="cafa-button">
                                            {% if item.category %}
                                                <a href="#">{{ item.category.name }}</a>
                                            {% endif %}
                                        </div>
                                        <h3 class="text-white">Sobre o Produto</h3>
                                        <ul class="menu-dish">
                                            {% for ingredient in item.ingredients.all %}
                                                <li class="text-white text-center">{{ ingredient.name }}</li>
                                            {% endfor %}
                                        </ul>
                                    </div>
                                </div>
                            </div>
                            {% endfor %}
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Bot√£o do Carrinho -->
    <button id="cart" class="fixed bottom-4 right-4 bg-red-600 text-white text-lg font-bold py-3 px-8 rounded-full flex items-center justify-center shadow-lg hover:bg-red-700">
        Carrinho
        <i class="fa-solid fa-bag-shopping ml-2"></i>
    </button>
</section>

<script>
    document.addEventListener('DOMContentLoaded', function() {
        const buttons = document.querySelectorAll('.category-btn');
        const menuItemsContainer = document.getElementById('menu-items-container');
        const menuItems = document.querySelectorAll('.menu-item');

        buttons.forEach(button => {
            button.addEventListener('click', function() {
                const categoryId = this.getAttribute('data-category');

                // Mostrar todos os itens se "all" for selecionado
                menuItems.forEach(item => {
                    if (categoryId === 'all' || item.getAttribute('data-category') === categoryId) {
                        item.style.display = 'block'; // Mostrar item
                    } else {
                        item.style.display = 'none'; // Ocultar item
                    }
                });
            });
        });
    });
</script>

{% else %}
<!-- Aqui voc√™ pode adicionar uma mensagem ou um conte√∫do alternativo se a entrega n√£o estiver ativa -->
<div class="alert alert-warning">O restaurante est√° fechado para entrega no momento.</div>
{% endif %}

     
      <!-- footer -->
      <footer class="dark:bg-gray-900 mt-6">
         <div class="container px-6 py-12 mx-auto">
             <div class="grid grid-cols-1 gap-6 sm:grid-cols-2 sm:gap-y-10 lg:grid-cols-4">
                 <div class="sm:col-span-2">
                     <h1 class="max-w-lg text-xl font-semibold tracking-tight text-gray-400 xl:text-2xl dark:text-white">Teve algum problema com o restaurante?</h1>
     
                     <div class="flex flex-col mx-auto mt-6 space-y-3 md:space-y-0 md:flex-row">
                         <input id="email" type="text" class="px-4 py-2 text-gray-700 border rounded-xl dark:bg-gray-900 dark:text-gray-300 dark:border-gray-600 focus:border-blue-400 dark:focus:border-blue-300 focus:outline-none focus:ring focus:ring-opacity-40 focus:ring-blue-300" placeholder="Conte um pouco sobre o que aconteceu">
                 
                         <button class="z-0 w-full px-6 py-2.5 text-sm font-medium tracking-wider text-white transition-colors duration-300 transform md:w-auto md:mx-4 focus:outline-none bg-red-600 rounded-xl hover:bg-gray-700 focus:ring focus:ring-gray-300 focus:ring-opacity-80">
                             Preciso de suporte
                         </button>
                     </div>
                 </div>
     
                 <div>
                     <p class="font-semibold text-gray-800 dark:text-white">upMenu</p>
     
                     <div class="flex flex-col items-start mt-2 space-y-2">
                         <a href="https://upmenu.online/home/" class="text-gray-600 transition-colors duration-300 dark:text-gray-300 dark:hover:text-blue-400 hover:underline hover:text-blue-500">Quem somos?</a>
                         <a href="https://upmenu.online/home/#pricing" class="text-gray-600 transition-colors duration-300 dark:text-gray-300 dark:hover:text-blue-400 hover:underline hover:text-blue-500">Planos</a>
                         <a href="#" class="text-gray-600 transition-colors duration-300 dark:text-gray-300 dark:hover:text-blue-400 hover:underline hover:text-blue-500"></a>
                     </div>
                 </div>
     
                 <div>
                     <p class="font-semibold text-gray-800 dark:text-white">Links √öteis</p>
     
                     <div class="flex flex-col items-start mt-2 space-y-2">
                         <a href="#" class="text-gray-600 transition-colors duration-300 dark:text-gray-300 dark:hover:text-blue-400 hover:underline hover:text-blue-500">Pol√≠ticas de Privacidade</a>
                         <a href="#" class="text-gray-600 transition-colors duration-300 dark:text-gray-300 dark:hover:text-blue-400 hover:underline hover:text-blue-500">Termos e Condi√ß√µes</a>
                         <a href="https://upmenu.online/home/" class="text-gray-600 transition-colors duration-300 dark:text-gray-300 dark:hover:text-blue-400 hover:underline hover:text-blue-500">Perguntas Frequentes</a>
                     </div>
                 </div>
             </div>
             
             <hr class="my-6 border-gray-200 md:my-8 dark:border-gray-700">
             
             <div class="flex items-center justify-between">
                 <a href="#">
                     <img class="w-auto h-14" src="{% static 'images/logo/logo.png' %}" alt="">
                 </a>
                 
                 <div class="flex -mx-2">
                     <a href="#" class="mx-2 text-gray-600 transition-colors duration-300 dark:text-gray-300 hover:text-blue-500 dark:hover:text-blue-400" aria-label="Reddit">
                        <svg class="w-5 h-5 fill-current" viewBox="0 -3 20 20" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" fill="#000000"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <title>youtube [#ff0000]</title> <desc>Created with Sketch.</desc> <defs> </defs> <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"> <g id="Dribbble-Light-Preview" transform="translate(-300.000000, -7442.000000)" fill="#ff0000"> <g id="icons" transform="translate(56.000000, 160.000000)"> <path d="M251.988432,7291.58588 L251.988432,7285.97425 C253.980638,7286.91168 255.523602,7287.8172 257.348463,7288.79353 C255.843351,7289.62824 253.980638,7290.56468 251.988432,7291.58588 M263.090998,7283.18289 C262.747343,7282.73013 262.161634,7282.37809 261.538073,7282.26141 C259.705243,7281.91336 248.270974,7281.91237 246.439141,7282.26141 C245.939097,7282.35515 245.493839,7282.58153 245.111335,7282.93357 C243.49964,7284.42947 244.004664,7292.45151 244.393145,7293.75096 C244.556505,7294.31342 244.767679,7294.71931 245.033639,7294.98558 C245.376298,7295.33761 245.845463,7295.57995 246.384355,7295.68865 C247.893451,7296.0008 255.668037,7296.17532 261.506198,7295.73552 C262.044094,7295.64178 262.520231,7295.39147 262.895762,7295.02447 C264.385932,7293.53455 264.28433,7285.06174 263.090998,7283.18289" id="youtube-[#ff0000]"> </path> </g> </g> </g> </g></svg>
                     </a>
     
                     <a href="#" class="mx-2 text-gray-600 transition-colors duration-300 dark:text-red-600 hover:text-blue-500 dark:hover:text-blue-400" aria-label="Facebook">
                         <svg class="w-5 h-5 fill-current" viewBox="0 0 24 24" fill="none"
                             xmlns="http://www.w3.org/2000/svg">
                             <path
                                 d="M2.00195 12.002C2.00312 16.9214 5.58036 21.1101 10.439 21.881V14.892H7.90195V12.002H10.442V9.80204C10.3284 8.75958 10.6845 7.72064 11.4136 6.96698C12.1427 6.21332 13.1693 5.82306 14.215 5.90204C14.9655 5.91417 15.7141 5.98101 16.455 6.10205V8.56104H15.191C14.7558 8.50405 14.3183 8.64777 14.0017 8.95171C13.6851 9.25566 13.5237 9.68693 13.563 10.124V12.002H16.334L15.891 14.893H13.563V21.881C18.8174 21.0506 22.502 16.2518 21.9475 10.9611C21.3929 5.67041 16.7932 1.73997 11.4808 2.01722C6.16831 2.29447 2.0028 6.68235 2.00195 12.002Z">
                             </path>
                         </svg>
                     </a>
     
                     <a href="#" class="mx-2 text-gray-600 transition-colors duration-300 dark:text-gray-300 hover:text-blue-500 dark:hover:text-blue-400" aria-label="Github">
                         <svg class="w-5 h-5 fill-current" viewBox="0 0 24.00 24.00" fill="none" xmlns="http://www.w3.org/2000/svg" stroke="#ff0000" stroke-width="0.00024000000000000003"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <path fill-rule="evenodd" clip-rule="evenodd" d="M12 18C15.3137 18 18 15.3137 18 12C18 8.68629 15.3137 6 12 6C8.68629 6 6 8.68629 6 12C6 15.3137 8.68629 18 12 18ZM12 16C14.2091 16 16 14.2091 16 12C16 9.79086 14.2091 8 12 8C9.79086 8 8 9.79086 8 12C8 14.2091 9.79086 16 12 16Z" fill="#ff0000"></path> <path d="M18 5C17.4477 5 17 5.44772 17 6C17 6.55228 17.4477 7 18 7C18.5523 7 19 6.55228 19 6C19 5.44772 18.5523 5 18 5Z" fill="#ff0000"></path> <path fill-rule="evenodd" clip-rule="evenodd" d="M1.65396 4.27606C1 5.55953 1 7.23969 1 10.6V13.4C1 16.7603 1 18.4405 1.65396 19.7239C2.2292 20.8529 3.14708 21.7708 4.27606 22.346C5.55953 23 7.23969 23 10.6 23H13.4C16.7603 23 18.4405 23 19.7239 22.346C20.8529 21.7708 21.7708 20.8529 22.346 19.7239C23 18.4405 23 16.7603 23 13.4V10.6C23 7.23969 23 5.55953 22.346 4.27606C21.7708 3.14708 20.8529 2.2292 19.7239 1.65396C18.4405 1 16.7603 1 13.4 1H10.6C7.23969 1 5.55953 1 4.27606 1.65396C3.14708 2.2292 2.2292 3.14708 1.65396 4.27606ZM13.4 3H10.6C8.88684 3 7.72225 3.00156 6.82208 3.0751C5.94524 3.14674 5.49684 3.27659 5.18404 3.43597C4.43139 3.81947 3.81947 4.43139 3.43597 5.18404C3.27659 5.49684 3.14674 5.94524 3.0751 6.82208C3.00156 7.72225 3 8.88684 3 10.6V13.4C3 15.1132 3.00156 16.2777 3.0751 17.1779C3.14674 18.0548 3.27659 18.5032 3.43597 18.816C3.81947 19.5686 4.43139 20.1805 5.18404 20.564C5.49684 20.7234 5.94524 20.8533 6.82208 20.9249C7.72225 20.9984 8.88684 21 10.6 21H13.4C15.1132 21 16.2777 20.9984 17.1779 20.9249C18.0548 20.8533 18.5032 20.7234 18.816 20.564C19.5686 20.1805 20.1805 19.5686 20.564 18.816C20.7234 18.5032 20.8533 18.0548 20.9249 17.1779C20.9984 16.2777 21 15.1132 21 13.4V10.6C21 8.88684 20.9984 7.72225 20.9249 6.82208C20.8533 5.94524 20.7234 5.49684 20.564 5.18404C20.1805 4.43139 19.5686 3.81947 18.816 3.43597C18.5032 3.27659 18.0548 3.14674 17.1779 3.0751C16.2777 3.00156 15.1132 3 13.4 3Z" fill="#ff0000"></path> </g></svg>
                     </a>
                 </div>
             </div>
             <p class="text-white ms-2 mt-3"><strong>CNPJ: 50.243.271/0001-46</strong> </p>
             <p class="text-gray-400 text-start text-xs ms-2">A <strong>upMenu</strong> n√£o oferece produtos pr√≥prios. Todos os produtos dispon√≠veis no menu s√£o de exclusiva propriedade e responsabilidade dos restaurantes cadastrados na nossa plataforma de delivery. As publicidades e propagandas relacionadas aos produtos s√£o de responsabilidade dos respectivos restaurantes.</p>
         </div>
     </footer>
     <script>
      document.addEventListener('DOMContentLoaded', () => {
         const addToBasketButtons = document.querySelectorAll('.button-price');
         const checkoutButton = document.getElementById('checkout-button');
         const cartBtn = document.getElementById('cart');
         const menuBtn = document.querySelector('.menu-btn');
         const Cart = document.getElementById('cart-id');
         const ordersList = document.querySelector('.checkout-order ul');
         const totalOrder = document.querySelector('#total-order');
     
         if (!checkoutButton) {
             console.error('Checkout button not found');
             return;
         }
     
         let totalPrice = 0;
     
         addToBasketButtons.forEach((button) => {
             button.addEventListener('click', function() {
                 cartBtn.style.display = 'block';
                 const dish = button.closest('.dish');
                 const itemName = dish.querySelector('h3').textContent;
                 const itemPrice = parseFloat(dish.querySelector('.price h2').textContent.replace('R$', '').replace(',', '.').trim());
                 const itemImg = dish.querySelector('img').src;
     
                 const orderItem = document.createElement('li');
                 orderItem.classList.add('price-list');
                 orderItem.innerHTML = `
                     <i class="closeButton fa-solid fa-xmark mt-3"></i>
                     <div class="counter-container">
                         <div class="counter-food">
                            <input type="hidden" name="csrfmiddlewaretoken" value="{{ csrf_token }}">

                             <img alt="food" src="${itemImg}" class="w-20 h-20">
                             <h4 class="text-white">${itemName}</h4>
                         </div>
                     </div>
                     <div class="price">
                         <div>
                             <h2 class="text-white text-lg">R$${itemPrice.toFixed(2)}</h2>
                             <span>Valor</span>
                         </div>
                         <div>
                             <div class="qty-input">
                                 <button class="qty-count qty-count--minus" data-action="minus" type="button">-</button>
                                 <input class="product-qty" type="number" name="product-qty" min="0" value="1">
                                 <button class="qty-count qty-count--add" data-action="add" type="button">+</button>
                             </div>
                             <span>Quantidade</span>
                         </div>
                     </div>
                 `;
     
                 ordersList.appendChild(orderItem);
     
                 updateOrderPrice();
     
                 orderItem.querySelector('.closeButton').addEventListener('click', function() {
                     const priceToRemove = parseFloat(orderItem.querySelector('.price h2').textContent.replace('R$', '').replace(',', '.').trim());
                     ordersList.removeChild(orderItem);
                     totalPrice -= priceToRemove;
                     updateOrderPrice();
                 });
     
                 const qtyMinus = orderItem.querySelector('.qty-count--minus');
                 const qtyAdd = orderItem.querySelector('.qty-count--add');
                 const qtyInput = orderItem.querySelector('.product-qty');
     
                 qtyMinus.addEventListener('click', function() {
                     let qty = parseInt(qtyInput.value);
                     if (qty > 1) {
                         qty -= 1;
                         qtyInput.value = qty;
                         updateOrderPrice();
                     }
                 });
     
                 qtyAdd.addEventListener('click', function() {
                     let qty = parseInt(qtyInput.value);
                     qty += 1;
                     qtyInput.value = qty;
                     updateOrderPrice();
                 });
             });
         });
     
         cartBtn.addEventListener('click', function() {
             if (menuBtn) {
                 Cart.style.display = 'block';
             } else {
                 console.error('Menu button not found');
             }
         });
     
         const closeCart = document.getElementById('close-cart');
         closeCart.addEventListener('click', function() {
             Cart.style.display = 'none';
         });
     
         menuBtn.addEventListener('click', function() {
             Cart.style.display = 'block';
         });
     
         function updateOrderPrice() {
             if (!ordersList || !totalOrder) {
                 console.error('Orders list or total order element not found');
                 return;
             }
     
             totalPrice = Array.from(ordersList.children).reduce((sum, item) => {
                 const itemPrice = parseFloat(item.querySelector('.price h2').textContent.replace('R$', '').replace(',', '.').trim());
                 const qty = parseInt(item.querySelector('.product-qty').value);
                 return sum + (itemPrice * qty);
             }, 0);
     
             totalOrder.textContent = `R$${totalPrice.toFixed(2)}`;
         }
     
         checkoutButton.addEventListener('click', function(event) {
             event.preventDefault();
     
             const items = [];
             const totalOrderText = document.getElementById('total-order').innerText;


            document.querySelectorAll('.price-list').forEach(function(item) { 
                const name = item.querySelector('.counter-food h4').innerText;
                const price = parseFloat(item.querySelector('.price h2').innerText.replace('R$', '').replace(',', '.').trim());
                const qty = parseInt(item.querySelector('.product-qty').value);

                // Adiciona o item ao array apenas se a quantidade for maior que zero
                if (qty > 0) {
                    items.push({ name, price, qty });
                }
            });

            // Verifique se algum item foi adicionado antes de prosseguir
            if (items.length === 0) {
                alert('Por favor, adicione pelo menos um item ao pedido.');
                return; // N√£o prossegue se n√£o h√° itens
            }

            const urlParts = window.location.pathname.split('/');
            // Encontre o √≠ndice da parte da URL que cont√©m o UUID
            const restaurantIndex = urlParts.indexOf('restaurant');
            let restaurantUUID = null;

            if (restaurantIndex !== -1 && urlParts.length > restaurantIndex + 1) {
                restaurantUUID = urlParts[restaurantIndex + 1];
            }

            console.log(restaurantUUID);

            fetch('/delivery/capture-order-data/', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                    'X-CSRFToken': getCookie('csrftoken')
                },
                body: JSON.stringify({
                    items: items,
                    totalOrder: totalOrderText,
                    restaurant_code: restaurantUUID
                })
            })
            .then(response => response.json())
            .then(data => {
                if (data.redirect_url) {
                    setTimeout(() => {
                        window.location.href = data.redirect_url;
                    }, 1000);
                } else {
                    console.error('No redirect URL provided');
                }
            })
            .catch(error => console.error('Error:', error));

         });
     
         function getCookie(name) {
             let cookieValue = null;
             if (document.cookie && document.cookie !== '') {
                 const cookies = document.cookie.split(';');
                 for (let i = 0; i < cookies.length; i++) {
                     const cookie = cookies[i].trim();
                     if (cookie.substring(0, name.length + 1) === (name + '=')) {
                         cookieValue = decodeURIComponent(cookie.substring(name.length + 1));
                         break;
                     }
                 }
             }
             return cookieValue;
         }
     });
     
    </script>
    
  
      
		
      <!-- bootstrap -->
      <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/js/bootstrap.bundle.min.js" integrity="sha384-pprn3073KE6tl6bjs2QrFaJGz5/SUsLqktiwsUTF55Jfv3qYSDhgCecCxMW52nD2" crossorigin="anonymous"></script>
      <!-- jQuery -->
      <script src="{% static 'js/jquery-3.6.0.min.js' %}"></script>
      <!-- aos -->
      <script src="{% static 'js/aos.js' %}"></script>
      <!-- custom -->
      <script src="{% static '/js/custom.js' %}"></script>
   </body>